(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/detail"],{"0235":function(e,n,r){"use strict";(function(e){r("27ea");t(r("66fd"));var n=t(r("8952"));function t(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,r("543d")["createPage"])},"0c25":function(e,n,r){"use strict";var t;r.d(n,"b",(function(){return o})),r.d(n,"c",(function(){return a})),r.d(n,"a",(function(){return t}));var o=function(){var e=this,n=e.$createElement,r=(e._self._c,e.__map(e.details,(function(n,r){var t=e.__get_orig(n),o=e.getMoneyForYuan(n.orderDetailPrice),a=e.getMoneyForFen(n.orderDetailPrice);return{$orig:t,m0:o,m1:a}}))),t=e.getMoneyForYuan(e.order.orderMoney),o=e.getMoneyForFen(e.order.orderMoney),a=e.__map(e.discounts,(function(n,r){var t=e.__get_orig(n),o=e.discounts.length>0?e.getDiscountTagName(n):null,a=e.discounts.length>0?e.getDiscountTypeName(n):null,i=e.discounts.length>0?e.getMoneyForYuan(n.orderMoneyValue):null,s=e.discounts.length>0?e.getMoneyForFen(n.orderMoneyValue):null;return{$orig:t,m4:o,m5:a,m6:i,m7:s}})),i=e.getMoneyForYuan(e.order.orderPayMoney),s=e.getMoneyForFen(e.order.orderPayMoney);e.$mp.data=Object.assign({},{$root:{l0:r,m2:t,m3:o,l1:a,m8:i,m9:s}})},a=[]},"0d21":function(e,n,r){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=function(){r.e("pages/component/customer").then(function(){return resolve(r("1788"))}.bind(null,r)).catch(r.oe)},o={data:function(){return{orderId:"",details:[],discounts:[],order:{},orderMessage:"",orderAddress:{},hours:0,minute:0,second:0,orderPrice:0,payTimeId:"",outPayTime:0,userBalanceLock:"",customerAlert:!1}},components:{customer:t},onLoad:function(e){var n=e.orderId;this.orderId=n,this.initPage()},watch:{outPayTime:function(e){if(e>0){var n=parseInt(e/60/60),r=e%3600,t=parseInt(r/60),o=r%60+"";this.hours=n>0?n:"",this.minute=t>0?t:"",this.second=o.length>1?o:"0"+o}else this.hours=0,this.minute=0,this.second=0,clearInterval(this.payTimeId)}},methods:{showCustomer:function(){this.customerAlert=!0},hideModel:function(){this.customerAlert=!1},cancelOrder:function(){var n=this;e.showModal({title:"温馨提示",content:"确认取消该笔订单吗",success:function(r){r.confirm&&e.$api.cancelOrder({orderId:n.orderId}).then((function(r){r.success&&(e.$toast.showToast("取消成功"),n.initPage())}))}})},orderPay:function(){var n=this.orderId,r=this.order.orderType;console.log("orderType:",r),0==r&&e.navigateTo({url:"/pages/order/pay?orderId="+n}),11==r&&e.navigateTo({url:"/pages/order/auctionpay?orderId="+n})},back:function(){e.navigateBack()},initPage:function(){var n=this,r={orderId:this.orderId};e.$api.getOrderDetail(r).then((function(e){var r=e.data,t=r.discounts,o=r.order,a=r.orderMessage,i=r.orderAddress,s=r.outPayTime,u=r.userBalanceLock,c=e.data.details||[];n.details=c,n.discounts=t,n.order=o,n.orderMessage=a,n.orderAddress=i,n.outPayTime=s,n.userBalanceLock=u,console.log("userBalanceLock:"+JSON.stringify(u));var d=n;s>0&&(d.payTimeId=setInterval((function(){d.outPayTime-=1}),1e3))}))},getMoneyForYuan:function(e){if(!e)return"0.";var n=e+"";return n.indexOf(".")>=0?n.substring(0,n.lastIndexOf(".")+1):n+"."},getMoneyForFen:function(e){if(!e)return"00";var n=e+"";return n.indexOf(".")>=0?n.substring(n.lastIndexOf(".")+1,n.length):"00"},getDiscountTagName:function(e){switch(e.orderMoneyType){case"11":return"新"}return""},getDiscountTypeName:function(e){switch(e.orderMoneyType){case"11":return"新人立减"}return""},confirmPackage:function(n){var r=this;e.showModal({title:"温馨提示",content:"确认收货吗",success:function(t){t.confirm&&e.$api.confirmPackage({orderId:n}).then((function(n){n.success&&(e.$toast.showToast("收货成功"),r.initPage())}))}})},logistics:function(n){e.navigateTo({url:"/pages/order/logistics?orderId="+n})}}};n.default=o}).call(this,r("543d")["default"])},"14a2":function(e,n,r){"use strict";var t=r("1dee"),o=r.n(t);o.a},"1dee":function(e,n,r){},"55d2":function(e,n,r){"use strict";r.r(n);var t=r("0d21"),o=r.n(t);for(var a in t)"default"!==a&&function(e){r.d(n,e,(function(){return t[e]}))}(a);n["default"]=o.a},8952:function(e,n,r){"use strict";r.r(n);var t=r("0c25"),o=r("55d2");for(var a in o)"default"!==a&&function(e){r.d(n,e,(function(){return o[e]}))}(a);r("14a2");var i,s=r("f0c5"),u=Object(s["a"])(o["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],i);n["default"]=u.exports}},[["0235","common/runtime","common/vendor"]]]);