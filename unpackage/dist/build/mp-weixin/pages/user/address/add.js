(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/address/add"],{"19dc":function(s,r,e){"use strict";e.r(r);var t=e("e434"),a=e("4481");for(var d in a)"default"!==d&&function(s){e.d(r,s,(function(){return a[s]}))}(d);e("4f26");var i,n=e("f0c5"),u=Object(n["a"])(a["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],i);r["default"]=u.exports},"3e48":function(s,r,e){},4481:function(s,r,e){"use strict";e.r(r);var t=e("ff41"),a=e.n(t);for(var d in t)"default"!==d&&function(s){e.d(r,s,(function(){return t[s]}))}(d);r["default"]=a.a},"4f26":function(s,r,e){"use strict";var t=e("3e48"),a=e.n(t);a.a},cc47:function(s,r,e){"use strict";(function(s){e("27ea");t(e("66fd"));var r=t(e("19dc"));function t(s){return s&&s.__esModule?s:{default:s}}s(r.default)}).call(this,e("543d")["createPage"])},e434:function(s,r,e){"use strict";var t;e.d(r,"b",(function(){return a})),e.d(r,"c",(function(){return d})),e.d(r,"a",(function(){return t}));var a=function(){var s=this,r=s.$createElement;s._self._c},d=[]},ff41:function(s,r,e){"use strict";(function(s){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=e("b2ed"),a={data:function(){return{form:[],multiArray:[[],[],[]],multiIndex:[0,0,0],areaname:"",addressId:"",address:{addressId:"",addressIdAutoId:"",addressUserId:"",addressAreaId:"",addressAreaString:"",addressDesc:"",addressContacts:"",addressMobile:"",addressCreateTime:"",addressDefaultStatus:"",addressLng:"",addressLat:"",addressWx:"",addressWxAlias:"",addressSex:""},pickerDisable:!1}},onLoad:function(s){console.log("onLoad:",JSON.stringify(s));var r=s.addressId;this.addressId=r,console.log("onLoad:",this.addressId),this.initAreaJson(),this.getAddressInfo()},methods:{getAddressInfo:function(){var r=this;if(this.addressId){var e={addressId:this.addressId};s.$api.getAddressDetail(e).then((function(s){s.success&&(r.address=s.data,r.setAddressIndex())}))}},setAddressIndex:function(){for(var s=this.address.addressAreaId+"",r=s.substring(0,2),e=s.substring(0,4),t=s,a=0,d=0,i=0,n=0;n<this.multiArray[0].length;n++){var u=this.multiArray[0][n].id+"";if(u=u.substring(0,2),u==r){a=n,this.multiArray[0][a].childArea?this.multiArray[1]=this.multiArray[0][a].childArea:(this.multiArray[1]=[],this.multiArray[2]=[]);break}}if(this.multiArray[1].length>0)for(var l=0;l<this.multiArray[1].length;l++){var o=this.multiArray[1][l].id+"";if(o=o.substring(0,4),o==e){d=l,this.multiArray[1][d].childArea?this.multiArray[2]=this.multiArray[1][d].childArea:this.multiArray[2]=[];break}}if(this.multiArray[2].length>0)for(var c=0;c<this.multiArray[1].length;c++){var h=this.multiArray[2][c].id+"";if(h==t){i=c;break}}this.multiIndex=[a,d,i],this.setAreaName()},showPicker:function(){},getAddressAreaId:function(){var s="",r=this.multiArray[2][this.multiIndex[2]];if(r)s=r.id;else{var e=this.multiArray[1][this.multiIndex[1]];s=e?e.id:this.multiArray[0][this.multiIndex[0]].id}return s},initAreaJson:function(){var s=t,r=s[0].childArea,e=r[0].childArea;this.multiArray=[s,r,e];var a=this.getAddressAreaId();this.address.addressAreaId=a},MultiChange:function(s){this.multiIndex=s.detail.value;var r=this.getAddressAreaId();this.address.addressAreaId=r,this.setAreaName()},setAreaName:function(s){if(s)this.address.addressAreaString=s;else{var r=this.multiIndex,e=this.multiArray,t=[];e[0][r[0]]&&t.push(e[0][r[0]].areaname),e[1][r[1]]&&t.push(e[1][r[1]].areaname),e[2][r[2]]&&t.push(e[2][r[2]].areaname),this.address.addressAreaString=t.join("-"),console.log("111:",this.address.addressAreaString)}},MultiColumnChange:function(s){var r={multiArray:this.multiArray,multiIndex:this.multiIndex};switch(r.multiIndex[s.detail.column]=s.detail.value,s.detail.column){case 0:var e=r.multiArray[0][r.multiIndex[0]],t=[],a=[];e.childArea&&(t=e.childArea),t.length>0&&(a=t[0].childArea||[]),r.multiArray[1]=t,r.multiArray[2]=a,r.multiIndex[1]=0,r.multiIndex[2]=0;break;case 1:t=r.multiArray[1][r.multiIndex[1]],a=t.childArea||[];r.multiArray[2]=a,r.multiIndex[2]=0;break}this.multiArray=r.multiArray,this.multiIndex=r.multiIndex,this.$forceUpdate()},textareaAInput:function(s){this.address.addressDesc=s.detail.value},saveAddress:function(){this.address.addressContacts?this.address.addressMobile?this.checkPhone()?this.address.addressAreaId?this.address.addressDesc?s.$api.saveAddress(this.address).then((function(r){s.$toast.alert("保存成功")})).catch((function(r){s.$toast.showError(r.message)})):s.$toast.showError("请输入详细地址"):s.$toast.showError("请选择地区"):s.$toast.showError("手机号码格式错误"):s.$toast.showError("请输入收货人手机号码"):s.$toast.showError("请输入收货人")},getLocation:function(){var r=this;s.chooseLocation({success:function(s){r.address.addressLng=s.longitude,r.address.addressLat=s.latitude,r.address.addressWx=s.address,r.address.addressWxAlias=s.name,r.address.addressDesc=s.address+s.name}})},checkPhone:function(){var s=this.address.addressMobile;return!!/^1[3456789]\d{9}$/.test(s)}}};r.default=a}).call(this,e("543d")["default"])}},[["cc47","common/runtime","common/vendor"]]]);