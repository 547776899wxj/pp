(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/assets/recharge"],{"1d2d":function(e,a,n){"use strict";var t=n("2f57"),o=n.n(t);o.a},"2f57":function(e,a,n){},3729:function(e,a,n){"use strict";n.r(a);var t=n("5800"),o=n("44a3");for(var c in o)"default"!==c&&function(e){n.d(a,e,(function(){return o[e]}))}(c);n("1d2d");var r,i=n("f0c5"),s=Object(i["a"])(o["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],r);a["default"]=s.exports},"44a3":function(e,a,n){"use strict";n.r(a);var t=n("cbf7"),o=n.n(t);for(var c in t)"default"!==c&&function(e){n.d(a,e,(function(){return t[e]}))}(c);a["default"]=o.a},5800:function(e,a,n){"use strict";var t;n.d(a,"b",(function(){return o})),n.d(a,"c",(function(){return c})),n.d(a,"a",(function(){return t}));var o=function(){var e=this,a=e.$createElement;e._self._c;e._isMounted||(e.e0=function(a){e.model.payCheck=!e.model.payCheck})},c=[]},c969:function(e,a,n){"use strict";(function(e){n("27ea");t(n("66fd"));var a=t(n("3729"));function t(e){return e&&e.__esModule?e:{default:e}}e(a.default)}).call(this,n("543d")["createPage"])},cbf7:function(e,a,n){"use strict";(function(e){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n={data:function(){return{channelData:[],model:{payCheck:!0,money:"",payId:"",channelType:""}}},created:function(){var a=this;e.$api.getPayChannel({}).then((function(e){a.channelData=e.data}))},methods:{toAgreement:function(){e.navigateTo({url:"/pages/login/agreement/agreement?agreementId=3"})},onChannelSelect:function(e){this.channelData.map((function(a){return a.payId==e.payId?a.channelCheck=1==a.channelCheck?0:1:a.channelCheck=0,a}))},onRecharge:function(){if(""!=this.model.money)if(this.model.payCheck){var a=this.channelData.find((function(e){return 1==e.channelCheck}));if(a){this.model.payId=a.payId,this.model.channelType=a.channelType;var n=this;e.$api.payRecharge(this.model).then((function(a){console.log(JSON.stringify(a.data));var t=!1;if(a.hasOwnProperty("data")&&a.data.hasOwnProperty("package")&&a.data.package.indexOf("test_")>=0&&(t=!0),t)e.$api.testPay({timeStamp:a.data.timeStamp,nonceStr:a.data.nonceStr,package:a.data.package,paySign:a.data.paySign}).then((function(a){a.success?(e.$toast.showToast("测试支付成功"),e.navigateBack()):e.$toast.showError("测试支付失败！")}));else if(n.model.channelType<4){var o="wxpay";switch(n.model.channelType){case 2:o="wxpay";break;case 3:o="alipay";break}e.requestPayment({provider:o,orderInfo:a.orderInfo,success:function(a){console.log("success:"+JSON.stringify(a)),e.$toast.showToast("充值成功！"),e.navigateBack()},fail:function(a){console.log("fail:"+JSON.stringify(a)),e.$toast.showToast(JSON.stringify(a))}})}}))}else e.$toast.showToast("请选择支付方式")}else e.$toast.showError("请勾选同意支付协议！");else e.$toast.showError("请输入充值金额！")}}};a.default=n}).call(this,n("543d")["default"])}},[["c969","common/runtime","common/vendor"]]]);