(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods/list"],{"0393":function(t,e,o){"use strict";o.r(e);var n=o("3866"),r=o.n(n);for(var a in n)"default"!==a&&function(t){o.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"0f64":function(t,e,o){"use strict";var n;o.d(e,"b",(function(){return r})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return n}));var r=function(){var t=this,e=t.$createElement;t._self._c},a=[]},"168c":function(t,e,o){"use strict";(function(t){o("27ea");n(o("66fd"));var e=n(o("bdf2"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("543d")["createPage"])},3866:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{list:Array,loading:{type:Boolean,default:!1}},data:function(){return{}},watch:{list:function(t){this.$forceUpdate()}},methods:{}};e.default=n},5007:function(t,e,o){"use strict";o.r(e);var n=o("d3ee"),r=o("5f76");for(var a in r)"default"!==a&&function(t){o.d(e,t,(function(){return r[t]}))}(a);o("92ec");var u,i=o("f0c5"),s=Object(i["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],u);e["default"]=s.exports},"519c":function(t,e,o){},"53ee":function(t,e,o){},"5f76":function(t,e,o){"use strict";o.r(e);var n=o("e08f"),r=o.n(n);for(var a in n)"default"!==a&&function(t){o.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"64d3":function(t,e,o){"use strict";var n=o("ddcb"),r=o.n(n);r.a},8802:function(t,e,o){"use strict";o.r(e);var n=o("d6df"),r=o("0393");for(var a in r)"default"!==a&&function(t){o.d(e,t,(function(){return r[t]}))}(a);o("afd5");var u,i=o("f0c5"),s=Object(i["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],u);e["default"]=s.exports},"92ec":function(t,e,o){"use strict";var n=o("53ee"),r=o.n(n);r.a},af8a:function(t,e,o){"use strict";var n;o.d(e,"b",(function(){return r})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return n}));var r=function(){var t=this,e=t.$createElement;t._self._c},a=[]},afd5:function(t,e,o){"use strict";var n=o("be82"),r=o.n(n);r.a},b19f:function(t,e,o){"use strict";o.r(e);var n=o("f4a8"),r=o.n(n);for(var a in n)"default"!==a&&function(t){o.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},bdf2:function(t,e,o){"use strict";o.r(e);var n=o("af8a"),r=o("b19f");for(var a in r)"default"!==a&&function(t){o.d(e,t,(function(){return r[t]}))}(a);o("ce20");var u,i=o("f0c5"),s=Object(i["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],u);e["default"]=s.exports},be82:function(t,e,o){},c35f:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{pageCount:Number,pageNumber:Number},data:function(){return{}},methods:{}};e.default=n},ce20:function(t,e,o){"use strict";var n=o("519c"),r=o.n(n);r.a},d3ee:function(t,e,o){"use strict";var n;o.d(e,"b",(function(){return r})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return n}));var r=function(){var t=this,e=t.$createElement;t._self._c},a=[]},d6df:function(t,e,o){"use strict";var n;o.d(e,"b",(function(){return r})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return n}));var r=function(){var t=this,e=t.$createElement;t._self._c},a=[]},ddcb:function(t,e,o){},e08f:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{menuData:[{id:1,url:"/pages/index/index",type:1},{id:2,url:"/pages/goods/list",type:1},{id:3,url:"/pages/auction/index",type:2},{id:4,url:"/pages/order/order",type:2},{id:5,url:"/pages/user/index",type:2}],model:{currentTabbar:1}}},created:function(){var e=t.getStorageSync("curbar");""!=e&&(this.model.currentTabbar=e,this.$forceUpdate())},methods:{onTabbarClick:function(e){console.log(e+"1");var o=this.menuData[e-1];(2!=o.type||this.isLogin())&&(t.switchTab({url:o.url}),t.setStorageSync("curbar",e))},isLogin:function(){var e=t.$session.getToken();if(e){var o=t.$session.getUserPeopleStatus();if(1==o)return!0;t.navigateTo({url:"../login/realname"})}else t.navigateTo({url:"../login/login"})}}};e.default=o}).call(this,o("543d")["default"])},e642:function(t,e,o){"use strict";o.r(e);var n=o("c35f"),r=o.n(n);for(var a in n)"default"!==a&&function(t){o.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},ed14:function(t,e,o){"use strict";o.r(e);var n=o("0f64"),r=o("e642");for(var a in r)"default"!==a&&function(t){o.d(e,t,(function(){return r[t]}))}(a);o("64d3");var u,i=o("f0c5"),s=Object(i["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],u);e["default"]=s.exports},f4a8:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=u(o("5007")),r=u(o("8802")),a=u(o("ed14"));function u(t){return t&&t.__esModule?t:{default:t}}var i={data:function(){return{option:{},queryObj:{goodsTitle:"",goodsCategoryId:"",pageNumber:0,pageSize:10,pageCount:99},goodsListLoading:!1,category:[],goodsList:[]}},onLoad:function(t){console.log("goods e:"+JSON.stringify(t)),this.option=t},onShow:function(){t.$utils.setTabBarOrderNum();var e=t.getStorageSync("goodsCategoryId");if(e){this.queryObj.goodsCategoryId=e,this.reFreshPage();try{t.removeStorageSync("goodsCategoryId")}catch(o){}}else this.initPageData()},created:function(){},onPullDownRefresh:function(){this.refreshGoods()},methods:{reFreshPage:function(){var t=this;this.getAllGoodsCategory((function(){t.option&&(t.queryObj=Object.assign(t.queryObj,t.option)),t.refreshGoods()}))},categoryClick:function(t){t!=this.queryObj.goodsCategoryId&&(this.queryObj.goodsCategoryId=t,this.queryObj.pageNumber=0,this.queryObj.pageCount=99,this.goodsList=[],this.getAllGoods())},initPageData:function(){var t=this;this.getAllGoodsCategory((function(){t.option&&(t.queryObj=Object.assign(t.queryObj,t.option),console.log(JSON.stringify(t.queryObj))),t.getAllGoods()}))},refreshGoods:function(){this.queryObj.pageNumber=0,this.queryObj.pageCount=99,this.goodsList=[],this.getAllGoods()},getAllGoodsCategory:function(e){var o=this;t.$api.getAllGoodsCategory().then((function(t){if(t.success){var n=[{goodsCategoryId:"",goodsCategoryName:"全部"}];o.category=n.concat(t.rows||[]),o.category.length>0&&!o.queryObj.goodsCategoryId&&(o.queryObj.goodsCategoryId=o.category[0].goodsCategoryId)}e&&e()&&e()}))},getAllGoods:function(){var e=this;this.goodsListLoading||this.queryObj.pageNumber>=this.queryObj.pageCount||(this.goodsListLoading=!0,this.queryObj.pageNumber++,t.$api.getIndexGoodsList(this.queryObj).then((function(t){var o=t.rows||[];e.goodsList=e.goodsList.concat(o),e.goodsListLoading=!1,e.queryObj.pageCount=t.pageCount||99})).catch((function(o){t.$toast.showError(o.message),e.goodsListLoading=!1})))},goToGoodsDetail:function(e){e&&t.navigateTo({url:"/pages/goods/goodsdetail?goodsId="+e})},addOrder:function(e){t.$auth.checkLogin({autoGoLoginPage:!0}).then((function(o){t.navigateTo({url:"/pages/order/addorder?goodsId="+e})})).catch((function(e){t.navigateTo({url:t.$config.LOGIN_PAGE})}))}},watch:{goodsListLoading:function(e){e||t.stopPullDownRefresh()}},components:{tabbar:n.default,listempty:r.default,nomore:a.default}};e.default=i}).call(this,o("543d")["default"])}},[["168c","common/runtime","common/vendor"]]]);