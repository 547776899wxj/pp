(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods/goodsdetail"],{"4db5":function(o,t,e){"use strict";e.r(t);var s=e("5446"),n=e.n(s);for(var a in s)"default"!==a&&function(o){e.d(t,o,(function(){return s[o]}))}(a);t["default"]=n.a},5446:function(o,t,e){"use strict";(function(o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(){e.e("pages/component/customer").then(function(){return resolve(e("1788"))}.bind(null,e)).catch(e.oe)},n={data:function(){return{goodsId:"",swiperList:[],goodsDetail:{},dotStyle:!1,player:{},current:1,videoShow:!0,goodsTabCur:0,customerAlert:!1,goodsTab:[]}},components:{customer:s},onLoad:function(o){this.goodsId=o.goodsId,this.getGoodsDetail()},onShow:function(){this.player=o.createVideoContext("myVideo")},methods:{showCustomer:function(){this.customerAlert=!0},hideModel:function(){this.customerAlert=!1},goodsTabClick:function(t){for(var e in this.goodsTabCur=t,this.goodsTab)if(this.goodsTab[e].id==t){var s=this.goodsTab[e].cssId;o.createSelectorQuery().select("#"+s).boundingClientRect((function(t){o.pageScrollTo({duration:200,scrollTop:t.top})})).exec()}},swiperChange:function(o,t){var e=o.target.current;this.current=e+1},back:function(){o.navigateBack()},getGoodsDetail:function(){var t=this,e={goodsId:this.goodsId};o.$api.getGoodsDetail(e).then((function(e){e.success&&(e.data.goodsDesc&&(e.data.goodsDesc=o.$utils.formatRichTextImage(e.data.goodsDesc)),t.handlerGoodsData(e.data))})).catch((function(t){o.$toast.showError(t.message)}))},handlerGoodsData:function(o){this.goodsDetail=o,this.handlerSwiper(),this.handlerGoodsTab()},handlerSwiper:function(){var o=this.goodsDetail,t=[];if(o.goodsImages&&o.goodsImages.length>0)for(var e in o.goodsImages)t.push({url:o.goodsImages[e].goodsImagePath});this.swiperList=t},handlerGoodsTab:function(){var o=this.goodsDetail,t=[];o.goodsVideoUrl&&t.push({id:1,name:"商品视频",cssId:"video-box"}),o.goodsAttrList&&o.goodsAttrList.length>0&&t.push({id:2,name:"商品参数",cssId:"param-box"}),o.goodsDesc&&t.push({id:3,name:"商品详情",cssId:"desc-box"}),console.log(JSON.stringify(t)),t.length>0&&(this.goodsTabCur=t[0].id||"",this.goodsTab=t||[])},collectGoods:function(){var t=this,e={goodsId:this.goodsId};o.$api.collectGoods(e).then((function(o){o.success&&(t.goodsDetail.goodsUserCollection=o.userCollect)})).catch((function(o){t.$toast.showError(o.message)}))},addOrder:function(){o.navigateTo({url:"/pages/order/addorder?goodsId="+this.goodsId})}}};t.default=n}).call(this,e("543d")["default"])},"67df":function(o,t,e){},8848:function(o,t,e){"use strict";e.r(t);var s=e("d94a"),n=e("4db5");for(var a in n)"default"!==a&&function(o){e.d(t,o,(function(){return n[o]}))}(a);e("d7a8a");var d,i=e("f0c5"),r=Object(i["a"])(n["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],d);t["default"]=r.exports},cb71:function(o,t,e){"use strict";(function(o){e("27ea");s(e("66fd"));var t=s(e("8848"));function s(o){return o&&o.__esModule?o:{default:o}}o(t.default)}).call(this,e("543d")["createPage"])},d7a8a:function(o,t,e){"use strict";var s=e("67df"),n=e.n(s);n.a},d94a:function(o,t,e){"use strict";var s;e.d(t,"b",(function(){return n})),e.d(t,"c",(function(){return a})),e.d(t,"a",(function(){return s}));var n=function(){var o=this,t=o.$createElement;o._self._c},a=[]}},[["cb71","common/runtime","common/vendor"]]]);