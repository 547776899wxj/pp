(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/realname"],{"213e":function(e,r,t){"use strict";t.r(r);var a=t("492a"),i=t.n(a);for(var s in a)"default"!==s&&function(e){t.d(r,e,(function(){return a[e]}))}(s);r["default"]=i.a},"37e7":function(e,r,t){"use strict";(function(e){t("27ea");a(t("66fd"));var r=a(t("56fd"));function a(e){return e&&e.__esModule?e:{default:e}}e(r.default)}).call(this,t("543d")["createPage"])},"492a":function(e,r,t){"use strict";(function(e){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=t("b2ed"),i=function(){Promise.all([t.e("common/vendor"),t.e("components/helang-compress/helang-compress")]).then(function(){return resolve(t("b1c6"))}.bind(null,t)).catch(t.oe)},s={components:{helangCompress:i},data:function(){return{delta:1,showPop:!1,multiArray:[[],[],[]],multiIndex:[0,0,0],form:{addressAreaId:"",addressAreaString:"",addressDesc:"",peopleName:"",peopleCardNumber:"",ocrName:"",ocrCardNumber:"",peopleCardPicA:"",peopleCardPicB:""}}},onLoad:function(r){var t=this,i=a,s=i[0].childArea,o=s[0].childArea;this.multiArray=[i,s,o],e.$api.getDataByPeopleCert().then((function(e){var r=e.data,a=r.peopleName,i=void 0===a?"":a,s=r.peopleCardNumber,o=void 0===s?"":s,n=r.peopleCardPicA,u=void 0===n?"":n,d=r.peopleCardPicB,l=void 0===d?"":d,c=r.peopleCertStatus,m=r.addressAreaId,h=r.addressAreaString,f=r.addressDesc;t.form.peopleName=i,t.form.peopleCardNumber=o,t.form.peopleCardPicA=u,t.form.peopleCardPicB=l,t.form.addressAreaId=m||"",t.form.addressAreaString=h||"",t.form.addressDesc=f||"",2==c&&t.onCertSuccess(),t.setAddressIndex(),console.log("this.form",t.form)}))},onBackPress:function(){var e=this;return setTimeout((function(){e.myBack()}),100),!0},methods:{myBack:function(){e.switchTab({url:"/pages/index/main"})},onSelectPeopleCardPicA:function(){var r=this;e.chooseImage({count:1,success:function(t){r.$refs.helangCompress.compress({src:t.tempFilePaths[0],maxSize:800,fileType:"png",quality:.85}).then((function(t){e.$api.uploadFileOSS(t).then((function(t){r.form.peopleCardPicA=t.path,e.$api.idCardOCR({autoShowErrMsg:!1,url:t.path}).then((function(e){var t=e.name,a=e.number;r.form.peopleName=t,r.form.peopleCardNumber=a,r.form.ocrName=t,r.form.ocrCardNumber=a}))}))})).catch((function(r){e.$toast.showToast("图片压缩失败")}))}})},onSelectPeopleCardPicB:function(){var r=this;e.chooseImage({count:1,success:function(t){r.$refs.helangCompress.compress({src:t.tempFilePaths[0],maxSize:800,fileType:"png",quality:.85}).then((function(t){e.$api.uploadFileOSS(t).then((function(e){r.form.peopleCardPicB=e.path}))})).catch((function(r){e.$toast.showToast("图片压缩失败")}))}})},onSubmit:function(){var r=this,t=this.form,a=t.peopleName,i=t.peopleCardNumber,s=t.ocrName,o=t.ocrCardNumber,n=t.peopleCardPicA,u=t.peopleCardPicB,d=t.addressAreaId,l=t.addressAreaString,c=t.addressDesc;n?u?a?i?d&&l?c?e.$api.peopleCert({peopleCardPicA:n,peopleCardPicB:u,ocrName:s,ocrCardNumber:o,name:a,cardNumber:i,addressAreaId:d,addressAreaString:l,addressDesc:c}).then((function(t){var a=t.autoCert,i=void 0===a?0:a;1==i?(e.$toast.showSuccess("认证通过"),r.onCertSuccess()):e.$toast.showSuccess("已提交审核")})):e.$toast.showError("请输入详情收货地址"):e.$toast.showError("请选择收货区域"):e.$toast.showError("身份证号码不能为空"):e.$toast.showError("姓名不能为空"):e.$toast.showError("证件照反面不能为空"):e.$toast.showError("证件照正面不能为空")},onCertSuccess:function(){e.$session.setUserPeopleStatus(1),e.redirectTo({url:"/pages/login/bankcard?switchMain=1"})},getAddressAreaId:function(){var e="",r=this.multiArray[2][this.multiIndex[2]];if(r)e=r.id;else{var t=this.multiArray[1][this.multiIndex[1]];e=t?t.id:this.multiArray[0][this.multiIndex[0]].id}return e},setAddressIndex:function(){for(var e=this.form.addressAreaId&&this.form.addressAreaId+""||"",r=e.substring(0,2),t=e.substring(0,4),a=e,i=0,s=0,o=0,n=0;n<this.multiArray[0].length;n++){var u=this.multiArray[0][n].id+"";if(u=u.substring(0,2),u==r){i=n,this.multiArray[0][i].childArea?this.multiArray[1]=this.multiArray[0][i].childArea:(this.multiArray[1]=[],this.multiArray[2]=[]);break}}if(this.multiArray[1].length>0)for(var d=0;d<this.multiArray[1].length;d++){var l=this.multiArray[1][d].id+"";if(l=l.substring(0,4),l==t){s=d,this.multiArray[1][s].childArea?this.multiArray[2]=this.multiArray[1][s].childArea:this.multiArray[2]=[];break}}if(this.multiArray[2].length>0)for(var c=0;c<this.multiArray[1].length;c++){var m=this.multiArray[2][c].id+"";if(m==a){o=c;break}}this.multiIndex=[i,s,o],this.setAreaName(e)},setAreaName:function(e){if(console.log("addressAreaId",e),e){var r=this.multiIndex,t=this.multiArray,a=[];t[0][r[0]]&&a.push(t[0][r[0]].areaname),t[1][r[1]]&&a.push(t[1][r[1]].areaname),t[2][r[2]]&&a.push(t[2][r[2]].areaname),this.form.addressAreaString=a.join("-"),console.log("111:",this.form.addressAreaString)}else this.form.addressAreaString=""},MultiChange:function(e){this.multiIndex=e.detail.value;var r=this.getAddressAreaId();this.form.addressAreaId=r,this.setAreaName(r)},MultiColumnChange:function(e){var r={multiArray:this.multiArray,multiIndex:this.multiIndex};switch(r.multiIndex[e.detail.column]=e.detail.value,e.detail.column){case 0:var t=r.multiArray[0][r.multiIndex[0]],a=[],i=[];t.childArea&&(a=t.childArea),a.length>0&&(i=a[0].childArea||[]),r.multiArray[1]=a,r.multiArray[2]=i,r.multiIndex[1]=0,r.multiIndex[2]=0;break;case 1:a=r.multiArray[1][r.multiIndex[1]],i=a.childArea||[];r.multiArray[2]=i,r.multiIndex[2]=0;break}this.multiArray=r.multiArray,this.multiIndex=r.multiIndex,this.$forceUpdate()},textareaAInput:function(e){this.form.addressDesc=e.detail.value}}};r.default=s}).call(this,t("543d")["default"])},"56fd":function(e,r,t){"use strict";t.r(r);var a=t("fd5f"),i=t("213e");for(var s in i)"default"!==s&&function(e){t.d(r,e,(function(){return i[e]}))}(s);t("e52e");var o,n=t("f0c5"),u=Object(n["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],o);r["default"]=u.exports},"6abf":function(e,r,t){},e52e:function(e,r,t){"use strict";var a=t("6abf"),i=t.n(a);i.a},fd5f:function(e,r,t){"use strict";t.d(r,"b",(function(){return i})),t.d(r,"c",(function(){return s})),t.d(r,"a",(function(){return a}));var a={helangCompress:function(){return Promise.all([t.e("common/vendor"),t.e("components/helang-compress/helang-compress")]).then(t.bind(null,"b1c6"))}},i=function(){var e=this,r=e.$createElement;e._self._c;e._isMounted||(e.e0=function(r){e.showPop=!1},e.e1=function(r){e.showPop=!1})},s=[]}},[["37e7","common/runtime","common/vendor"]]]);