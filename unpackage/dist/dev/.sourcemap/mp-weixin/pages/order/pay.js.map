{"version":3,"sources":["uni-app:///main.js","webpack:///D:/project/h5_4/paipai/pages/order/pay.vue?e27f","webpack:///D:/project/h5_4/paipai/pages/order/pay.vue?40cc","webpack:///D:/project/h5_4/paipai/pages/order/pay.vue?9f5b","webpack:///D:/project/h5_4/paipai/pages/order/pay.vue?7cc3","uni-app:///pages/order/pay.vue","webpack:///D:/project/h5_4/paipai/pages/order/pay.vue?65bf","webpack:///D:/project/h5_4/paipai/pages/order/pay.vue?a85f"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,yF;AACAA,UAAU,CAACC,YAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgH;AAChH;AACuD;AACL;AACa;;;AAG/D;AACyK;AACzK,gBAAgB,6KAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,8EAAM;AACR,EAAE,uFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrCA;AAAA;AAAA;AAAA;AAA8nB,CAAgB,6mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC4ElpB;AACA,MADA,kBACA;AACA;AACA,yBADA;AAEA,iBAFA;AAGA,oBAHA;AAIA,qBAJA;AAKA,eALA;AAMA,uBANA;AAOA,qBAPA;AAQA,mBARA;AASA,mBATA;AAUA,cAVA;AAWA,eAXA;AAYA,eAZA;AAaA;AACA,uBADA;AAEA,mBAFA;AAGA,iBAHA;AAIA,uBAJA;AAKA,eALA,EAbA;;;AAqBA,GAvBA;AAwBA,QAxBA,kBAwBA,CAxBA,EAwBA;AACA;AACA;AACA;AACA;AACA,GA7BA;AA8BA;AACA,cADA,sBACA,KADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OARA,MAQA;AACA;AACA;AACA;AACA;AACA;AACA,KAhBA,EA9BA;;AAgDA;AACA,UADA,oBACA;AACA;AACA,gCADA;;AAGA,KALA;AAMA,cANA,wBAMA;AACA;AACA,KARA;AASA,eATA,yBASA;AACA;AACA,6DADA;;AAGA,KAbA;AAcA,kBAdA,4BAcA;AACA;AACA;AACA;AACA,OAFA;AAGA,KAnBA;AAoBA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA;AACA,OARA;AASA,KA9BA;AA+BA,gBA/BA,0BA+BA;AACA;AACA;AACA,6BADA;;AAGA;AACA;AACA,oBADA,GACA,GADA,CACA,UADA,CACA,WADA,GACA,GADA,CACA,WADA,CACA,KADA,GACA,GADA,CACA,KADA,CACA,UADA,GACA,GADA,CACA,UADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,EAEA,IAFA;AAGA;AACA,SAZA,MAYA;AACA;AACA;;AAEA,OAjBA;AAkBA,KAtDA;AAuDA,mBAvDA,2BAuDA,KAvDA,EAuDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAhEA;AAiEA,kBAjEA,0BAiEA,KAjEA,EAiEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA1EA;AA2EA;AACA,YA5EA,sBA4EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,2CADA;AAEA,yCAFA;AAGA,uCAHA;AAIA,uCAJA;AAKA,cALA,CAKA;AACA;AACA;AACA;AACA;AACA,2CADA;;AAGA,eAJA,EAIA,GAJA;;AAMA,aARA,MAQA;AACA;AACA;AACA,WAjBA;;AAmBA,SArBA,MAqBA;;AAEA;AACA;AACA;AACA;AACA,+CAFA;;AAIA;AACA,gCADA;AAEA,sCAFA,EAEA;AACA;AACA;AACA;AACA,2CADA;;AAGA,eARA;AASA;AACA;AACA;AACA,eAZA;;AAcA;AACA;AACA,OAxDA;AAyDA,KAhKA,EAhDA,E;;;;;;;;;;;;;AC5EA;AAAA;AAAA;AAAA;AAA65B,CAAgB,k2BAAG,EAAC,C;;;;;;;;;;;ACAj7B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/order/pay.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/order/pay.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./pay.vue?vue&type=template&id=34e3f284&\"\nvar renderjs\nimport script from \"./pay.vue?vue&type=script&lang=js&\"\nexport * from \"./pay.vue?vue&type=script&lang=js&\"\nimport style0 from \"./pay.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/order/pay.vue\"\nexport default component.exports","export * from \"-!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=template&id=34e3f284&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 =\n    _vm.detailList.length > 0\n      ? _vm.getMoneyForYuan(_vm.order.orderPayMoney)\n      : null\n  var m1 =\n    _vm.detailList.length > 0\n      ? _vm.getMoneyForFen(_vm.order.orderPayMoney)\n      : null\n  var m2 = _vm.getMoneyForYuan(_vm.order.orderPayMoney)\n  var m3 = _vm.getMoneyForFen(_vm.order.orderPayMoney)\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      $event.stopPropagation()\n      _vm.form.payCheck = !_vm.form.payCheck\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        m2: m2,\n        m3: m3\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<cu-custom bgColor=\"bg-f6\" :isBack=\"true\" :backMethod=\"'myBack'\" @myBack=\"myBack\">\r\n\t\t\t<block slot=\"backText\"></block>\r\n\t\t\t<block slot=\"content\">支付订单</block>\r\n\t\t</cu-custom>\r\n\t\t<view class=\"container\">\r\n\t\t\t<view class=\"pay-time flex-center\">\r\n\t\t\t\t<view class=\"fs-26 fc-939 mr8\">支付剩余时间</view>\r\n\t\t\t\t<view class=\"fs-40 fc-303 fw-b\">{{hours > 0?hours+\":\":hours}}{{minute > 0?minute+\":\":minute}}{{second}}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"goods-info mb20\" v-for=\"(item,index) in detailList\" :key=\"index\" v-if=\"detailList.length > 0\">\r\n\t\t\t\t<image :src=\"item.orderGoodsImage\" mode=\"\" class=\"goods-image\"></image>\r\n\t\t\t\t<view class=\"wp100 goods-msg flex-between fdc\">\r\n\t\t\t\t\t<view class=\"dflex fdc jc-fs\">\r\n\t\t\t\t\t\t<view class=\"goods-name mb12\">{{item.orderGoodsTitle}}</view>\r\n\t\t\t\t\t\t<view class=\"fs-20 lh-28 fc-939\">共{{item.orderDetailNumber}}件商品</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"flex-between ai-fe\">\r\n\t\t\t\t\t\t<view><text class=\"fs-24 fc-303\">￥</text><text class=\"fs-28 fc-303\">{{getMoneyForYuan(order.orderPayMoney)}}</text><text\r\n\t\t\t\t\t\t\t\tclass=\"fs-20 fc-303\">{{getMoneyForFen(order.orderPayMoney)}}</text></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"pay-way\">\r\n\t\t\t\t<view class=\"flex-between ac\" v-for=\"(item,index) in channelData\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"dflex ac\">\r\n\t\t\t\t\t\t<image :src=\"item.channelIcon\" mode=\"\" class=\"m-icon mr32\"></image>\r\n\t\t\t\t\t\t<view class=\"fs-28 fc-303\">{{item.channelName}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<label for=\"\">\r\n\t\t\t\t\t\t<checkbox class=\"hh-radio fs-0 mr16 round\" @click=\"onChannelSelect(item)\"  :checked=\"item.channelCheck==1?true:false\">\r\n\t\t\t\t\t\t</checkbox>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- <view class=\"flex-between ac\">\r\n\t\t\t\t\t<view class=\"dflex ac\">\r\n\t\t\t\t\t\t<image src=\"../../static/img/icon/pay-bag@2x.png\" mode=\"\" class=\"m-icon mr32\"></image>\r\n\t\t\t\t\t\t<view class=\"fs-28 fc-303 dflex\">余额支付 (<view class=\"dflex ai-fe\">\r\n\t\t\t\t\t\t\t\t<view class=\"fs-24 fc-303\">￥</view>\r\n\t\t\t\t\t\t\t\t<view class=\"fs-28 lh-28 fc-303 mb2\">{{userBalance.money}}</view>\r\n\t\t\t\t\t\t\t</view>)</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<label for=\"\">\r\n\t\t\t\t\t\t<checkbox class=\"hh-radio fs-0 mr16 round\" @click=\"orderMoneyType = 11\" :class=\"orderMoneyType == 11?'checked':''\" :checked=\"orderMoneyType == 11\">\r\n\t\t\t\t\t\t</checkbox>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</view> -->\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"cu-bar dflex fdc bg-white tabbar border submit-box\">\r\n\t\t\t<view class=\"wp100 pt12 pb12\">\r\n\t\t\t\t<label class=\"dflex jc-fs ac wp100\" @click.stop=\"checkClick\">\r\n\t\t\t\t\t<checkbox class=\"hh-radio fs-0 mr16 round\"  :checked=\"form.payCheck\"  @click.stop=\"form.payCheck = !form.payCheck\"></checkbox>\r\n\t\t\t\t\t<view class=\"fs-22 lh-32 fc-939\">我已阅读并同意 <text @click.stop=\"toAgreement\" class=\"fc-2e8\">《支付协议》</text>\r\n                </view>\r\n\t\t\t\t</label>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"wp100 flex-between ac pt12 pb12\">\r\n\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t<view class=\"dflex ai-fe\">\r\n\t\t\t\t\t\t<view class=\"fs-20 lh-28 fc-303\">合计：</view>\r\n\t\t\t\t\t\t<view class=\"dflex ai-fe fw-b\">\r\n\t\t\t\t\t\t\t<view class=\"fs-24 fc-e31 mb2\">￥</view>\r\n\t\t\t\t\t\t\t<view class=\"fs-32 lh-32 fc-e31\">{{getMoneyForYuan(order.orderPayMoney)}}</view>\r\n\t\t\t\t\t\t\t<view class=\"fs-20 fc-e31 mb2\">{{getMoneyForFen(order.orderPayMoney)}}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<button class=\"cu-btn bg-pp fc-f round\" @click=\"orderPay\">确认支付</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcheckPayRule: false,\r\n\t\t\t\torderId:\"\",\r\n\t\t\t\tdetailList:[],\r\n\t\t\t\tuserBalance:{},\r\n\t\t\t\torder:{},\r\n\t\t\t\torderMoneyType:2,\r\n\t\t\t\tchannelData:[],\r\n\t\t\t\toutPayTime:0,\r\n\t\t\t\tpayTimeId:\"\",\r\n\t\t\t\thours:0,\r\n\t\t\t\tminute:0,\r\n\t\t\t\tsecond:0,\r\n\t\t\t\tform:{\r\n\t\t\t\t\tpayCheck:false,\r\n\t\t\t\t\torderId:'',\r\n\t\t\t\t\tpayId:'',\r\n\t\t\t\t\tchannelType:'',\r\n\t\t\t\t\tmode :1\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(e) {\r\n\t\t\tthis.orderId = e.orderId ;\r\n\t\t\tthis.form.orderId = this.orderId;\r\n\t\t\tthis.initPayChannel();\r\n\t\t\tthis.initPageData()\r\n\t\t},\r\n\t\twatch:{\r\n\t\t\toutPayTime (value) {\r\n\t\t\t\tif (value > 0) {\r\n\t\t\t\t\tlet h = parseInt(value/60/60)\r\n\t\t\t\t\tlet last = value%3600\r\n\t\t\t\t\tlet m = parseInt(last/60)\r\n\t\t\t\t\tlet s = last % 60 + \"\"\r\n\t\t\t\t\tthis.hours = h > 0?h:\"\"\r\n\t\t\t\t\tthis.minute = m > 0?m:\"\"\r\n\t\t\t\t\tthis.second = s.length > 1?s:\"0\"+s\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.hours = 0\r\n\t\t\t\t\tthis.minute = 0\r\n\t\t\t\t\tthis.second = 0\r\n\t\t\t\t\tclearInterval(this.payTimeId)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tmyBack () {\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl:\"/pages/index/main\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcheckClick () {\r\n\t\t\t\tthis.form.payCheck = !this.form.payCheck\r\n\t\t\t},\r\n\t\t\ttoAgreement () {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:\"/pages/login/agreement/agreement?agreementId=3\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tinitPayChannel(){\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tuni.$api.getPayChannel({}).then(res =>{\r\n\t\t\t\t\tself.channelData = res.data;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonChannelSelect:function(item){\r\n\t\t\t\tthis.channelData.map(e => {\r\n\t\t\t\t\tif (e.payId == item.payId){\r\n\t\t\t\t\t\te.channelCheck = e.channelCheck==1?0:1\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\te.channelCheck=0\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn e\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tinitPageData () {\r\n\t\t\t\tif (this.orderId)\r\n\t\t\t\tvar params = {\r\n\t\t\t\t\torderId:this.orderId\r\n\t\t\t\t}\r\n\t\t\t\tuni.$api.getOrderPayPageInfo(params).then(res => {\r\n\t\t\t\t\tif (res.success) {\r\n\t\t\t\t\t\t\tlet {detailList,userBalance,order,outPayTime} = res\r\n\t\t\t\t\t\t\tthis.detailList = detailList\r\n\t\t\t\t\t\t\tthis.userBalance = userBalance\r\n\t\t\t\t\t\t\tthis.order = order\r\n\t\t\t\t\t\t\tthis.outPayTime = outPayTime\r\n\t\t\t\t\t\t\tvar self = this\r\n\t\t\t\t\t\t\tif (outPayTime > 0) {\r\n\t\t\t\t\t\t\t\tself.payTimeId = setInterval(function () {\r\n\t\t\t\t\t\t\t\t\tself.outPayTime -= 1\r\n\t\t\t\t\t\t\t\t},1000)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.$toast.showError(res.message)\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetMoneyForYuan(money) {\r\n\t\t\t\tif (!money) {\r\n\t\t\t\t\treturn \"0.\"\r\n\t\t\t\t}\r\n\t\t\t\tvar m1 = money+\"\"\r\n\t\t\t\tif (m1.indexOf(\".\")>=0) {\r\n\t\t\t\t\treturn m1.substring(0,m1.lastIndexOf(\".\")+1)\r\n\t\t\t\t}\r\n\t\t\t\treturn m1+\".\"\r\n\t\t\t},\r\n\t\t\tgetMoneyForFen(money) {\r\n\t\t\t\tif (!money) {\r\n\t\t\t\t\treturn \"00\"\r\n\t\t\t\t}\r\n\t\t\t\tvar m1 = money+\"\"\r\n\t\t\t\tif (m1.indexOf(\".\")>=0) {\r\n\t\t\t\t\treturn m1.substring(m1.lastIndexOf(\".\")+1,m1.length)\r\n\t\t\t\t}\r\n\t\t\t\treturn \"00\"\r\n\t\t\t},\r\n\t\t\t/** 确认支付 **/\r\n\t\t\torderPay () {\r\n\t\t\t\tif(this.form.orderId == ''){\r\n\t\t\t\t\tuni.$toast.showError('订单编号不能为空！');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(!this.form.payCheck){\r\n\t\t\t\t\tuni.$toast.showError('请勾选同意支付协议！');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t// for(var i = 0;i<this.channelData.length;i++){\r\n\t\t\t\t// \tif(this.channelData[i].channelCheck == 1){\r\n\t\t\t\t// \t\tthis.form.payId = this.channelData[i].payId;\r\n\t\t\t\t// \t\tthis.form.channelType = this.channelData[i].channelType;\r\n\t\t\t\t// \t}\r\n\t\t\t\t// }\r\n\t\t\t\t\r\n\t\t\t\tvar item = this.channelData.find(e =>{\r\n\t\t\t\t\treturn e.channelCheck == 1\r\n\t\t\t\t})\r\n\t\t\t\tif (!item) {\r\n\t\t\t\t\tuni.$toast.showToast('请选择支付方式')\r\n\t\t\t\t\treturn \r\n\t\t\t\t}\r\n\t\t\t\tthis.form.payId = item.payId;\r\n\t\t\t\tthis.form.channelType = item.channelType;\r\n\t\t\t\t\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tuni.$api.appPay(this.form).then(res =>{\r\n\t\t\t\t\t\tconsole.log(JSON.stringify(res.data))\r\n\t\t\t\t\t\tvar istest = false;\r\n\t\t\t\t\t\tif(res.hasOwnProperty(\"data\")){\r\n\t\t\t\t\t\t\tif(res.data.hasOwnProperty(\"package\")){\r\n\t\t\t\t\t\t\t\tif(res.data.package.indexOf(\"test_\")>=0){\r\n\t\t\t\t\t\t\t\t\tistest = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(istest){  //测试支付\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tuni.$api.testPay({\r\n\t\t\t\t\t\t\t  'timeStamp': res.data.timeStamp,\r\n\t\t\t\t\t\t\t  'nonceStr': res.data.nonceStr,\r\n\t\t\t\t\t\t\t  'package': res.data.package,\r\n\t\t\t\t\t\t\t  'paySign': res.data.paySign\r\n\t\t\t\t\t\t\t}).then(notifyres => {\r\n\t\t\t\t\t\t\t  if (notifyres.success) {\r\n\t\t\t\t\t\t\t    uni.$toast.showToast('测试支付成功');\r\n\t\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\t\t\turl:\"/pages/order/order\"\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t},400)\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t  }else{\r\n\t\t\t\t\t\t\t\t  uni.$toast.showError('测试支付失败！');\r\n\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}else{  //走真实支付接口\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(self.form.channelType < 4){\r\n\t\t\t\t\t\t\t\tvar provider = \"wxpay\";\r\n\t\t\t\t\t\t\t\tswitch(self.form.channelType){\r\n\t\t\t\t\t\t\t\t\tcase 2: provider = \"wxpay\"; break;\r\n\t\t\t\t\t\t\t\t\tcase 3: provider = \"alipay\"; break;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\t\t\t    provider: provider,\r\n\t\t\t\t\t\t\t\t    orderInfo: res.orderInfo, //微信、支付宝订单数据 【注意微信的订单信息，键值应该全部是小写，不能采用驼峰命名】\r\n\t\t\t\t\t\t\t\t    success: function (res) {\r\n\t\t\t\t\t\t\t\t        console.log('success:' + JSON.stringify(res));\r\n\t\t\t\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\t\t\t\turl:\"/pages/order/order\"\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t\t\t    fail: function (err) {\r\n\t\t\t\t\t\t\t\t        console.log('fail:' + JSON.stringify(err));\r\n\t\t\t\t\t\t\t\t\t\tuni.$toast.showToast(JSON.stringify(err))\r\n\t\t\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\tpage {\r\n\t\tbackground-color: #f6f6f6;\r\n\t}\r\n\r\n\t.container {\r\n\t\tpadding: 8rpx 20rpx;\r\n\t}\r\n\r\n\t.pay-time {\r\n\t\twidth: 100%;\r\n\t\theight: 96rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t\tbackground: #fff;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.goods-info {\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-start;\r\n\t\tpadding: 20rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\r\n\t.goods-image {\r\n\t\twidth: 180rpx;\r\n\t\theight: 180rpx;\r\n\t\tborder-radius: 12rpx;\r\n\t\tflex-shrink: 0;\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\r\n\t.goods-msg {\r\n\t\theight: 180rpx;\r\n\t}\r\n\r\n\t.goods-name {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #303133;\r\n\t\ttext-align: left;\r\n\t\tline-height: 40rpx;\r\n\t\tdisplay: -webkit-box;\r\n\t\t-webkit-box-orient: vertical;\r\n\t\t-webkit-line-clamp: 2;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.pay-way {\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 20rpx;\r\n\t\tpadding: 0 24rpx 0 20rpx;\r\n\t}\r\n\r\n\t.pay-way>view {\r\n\t\theight: 108rpx;\r\n\t}\r\n\r\n\t.cu-bar.tabbar.submit-box {\r\n\t\tpadding: 0 32rpx;\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\twidth: 100%;\r\n\t\theight: auto;\r\n\t\tmin-height: 100rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding-bottom: env(safe-area-inset-bottom);\r\n\t}\r\n\r\n\t.submit-box .cu-btn {\r\n\t\twidth: 240rpx;\r\n\t\theight: 76rpx;\r\n\t\tmargin: 0;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1622274194768\n      var cssReload = require(\"D:/软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}