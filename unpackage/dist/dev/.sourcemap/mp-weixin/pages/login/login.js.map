{"version":3,"sources":["uni-app:///main.js","webpack:///D:/project/h5_4/paipai/pages/login/login.vue?f469","webpack:///D:/project/h5_4/paipai/pages/login/login.vue?6148","webpack:///D:/project/h5_4/paipai/pages/login/login.vue?5859","webpack:///D:/project/h5_4/paipai/pages/login/login.vue?0fc2","uni-app:///pages/login/login.vue","webpack:///D:/project/h5_4/paipai/pages/login/login.vue?bddf","webpack:///D:/project/h5_4/paipai/pages/login/login.vue?0203"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,6F;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AACyK;AACzK,gBAAgB,6KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAgoB,CAAgB,+mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+DppB;AACA,MADA,kBACA;AACA;AACA;AACA,oBADA;AAEA,oBAFA;AAGA,qBAHA,EADA;;AAMA,yBANA;AAOA,mBAPA;AAQA;AACA,cADA;AAEA,iBAFA;AAGA,oBAHA;AAIA,iBAJA;AAKA,kBALA,EARA;AAcA;AACA,iBAfA,CAeA;AAfA;AAiBA,GAnBA;AAoBA,SApBA,qBAoBA;;;;AAIA,GAxBA;AAyBA,QAzBA,oBAyBA;AACA;AACA,GA3BA;AA4BA;AACA,gBADA,0BACA;AACA;AACA;AACA;AACA;AACA;AACA,KAPA;AAQA,eARA,uBAQA,QARA,EAQA,IARA,EAQA;AACA;AACA;AACA;AACA,KAZA;AAaA,YAbA,oBAaA,IAbA,EAaA;AACA;AACA;AACA,6BADA;AAEA;AACA,2BADA;AAEA,8BAFA,EAFA;;AAMA;AACA;AACA;AACA;AACA,kCADA,EACA;AACA;AACA,mCADA;AAEA,8BAFA,EAFA;;AAMA,cANA,CAMA;AACA;AACA;AACA;AACA,WAVA,EAUA,KAVA,CAUA;AACA;AACA;AACA;AACA;AACA,WAfA;AAgBA,SAzBA;AA0BA,YA1BA,gBA0BA,GA1BA,EA0BA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA,SApCA;;AAsCA,KArDA;AAsDA,qBAtDA,+BAsDA;AACA;AACA,0CADA;;AAGA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA,KAhEA;AAiEA,cAjEA,sBAiEA,QAjEA,EAiEA,IAjEA,EAiEA;AACA;AACA;AACA,0BADA;AAEA,wBAFA;AAGA,0CAHA;AAIA,gCAJA;;AAMA;;AAEA;AACA;AACA,4BAFA,CAEA;AACA;AACA;AACA;AACA;AACA,SAFA,EAEA,IAFA;AAGA,OARA,EAQA,KARA,CAQA;AACA;AACA,4BAFA,CAEA;AACA,OAXA;AAYA,KAvFA;AAwFA,eAxFA,yBAwFA;AACA;AACA,KA1FA;AA2FA;;AAEA;AACA;AACA,wBADA;AAEA;AACA;AACA;AACA;AACA,gCADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA,2BAeA,yBAfA,CAeA,MAfA,QAeA,MAfA,CAeA,OAfA,QAeA,OAfA,CAeA,YAfA,QAeA,YAfA;AAgBA;AACA;AACA,8CADA,EACA,cADA,EACA,gBADA;AAEA,sBAFA,CAEA;AACA,6BADA,CACA,KADA,SACA,KADA,CACA,QADA,SACA,QADA;AAEA;AACA;AACA;AACA;AACA;AACA,uBAFA,EAEA,IAFA;AAGA,qBANA;AAOA;AACA;AACA,sCADA,EACA,kBADA;;AAGA;AACA,0GADA;;AAGA;AACA,mBAnBA;AAoBA,iBArBA;AAsBA;AACA;AACA;;AAEA,eA5CA;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAtDA;;AAwDA;AACA,SA9DA;;AAgEA,KA9JA;AA+JA;AACA;AACA,oCADA;;AAGA,KAnKA;AAoKA;AACA;AACA,gCADA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAhLA;AAiLA,WAjLA,qBAiLA;AACA,eADA,CACA,QADA,cACA,QADA,CACA,QADA,cACA,QADA,CACA,OADA,cACA,OADA;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBADA;AAEA,0BAFA;AAGA,UAHA,CAGA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,EAEA,IAFA;AAGA,OAVA;;AAYA,KA5MA,EA5BA,E;;;;;;;;;;;;;AC/DA;AAAA;AAAA;AAAA;AAA+5B,CAAgB,o2BAAG,EAAC,C;;;;;;;;;;;ACAn7B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/login/login.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=b237504c&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/login/login.vue\"\nexport default component.exports","export * from \"-!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=template&id=b237504c&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\r\n\t\t<view style=\"height: 60rpx;\"></view>\n\t\t<view class=\"cu-bar search\">\r\n\t\t\t<view class=\"action\" @click=\"onLoginClose()\">\r\n\t\t\t\t<text class=\"cuIcon-close\"></text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"action\" @click=\"goToRegister()\">\r\n\t\t\t\t注册\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"container\">\r\n\t\t\t<view class=\"flex-center logo-box mb66\">\r\n\t\t\t\t<image src=\"../../static/img/images/logo@2x.png\" class=\"logo\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"form-group\">\r\n\t\t\t\t<input placeholder=\"手机号码\" maxlength=\"11\" name=\"input\" placeholder-class=\"fc-c4cc\" v-model=\"form.userName\">\r\n\t\t\t</view>\r\n\t\t\t<view class=\"form-group\">\r\n\t\t\t\t<input placeholder=\"密码\" maxlength=\"16\"  name=\"input\" type=\"password\" placeholder-class=\"fc-c4cc\" v-model=\"form.password\"></input>\r\n\t\t\t</view>\r\n\t\t\t<!-- <view class=\"form-group mb14\">\r\n\t\t\t\t<view class=\"title\">验证码</view>\r\n\t\t\t\t<input placeholder=\"输入框带个按钮\" name=\"input\"></input>\r\n\t\t\t\t<button class='cu-btn bg-green shadow'>验证码</button> -->\r\n\t\t\t\t<!-- <view class=\"mt32 mb48 dflex jc-fs ac wp100\">\r\n\t\t\t\t\t<checkbox class=\"hh-radio fs-0 mr16 round\" :class=\"form.isCheck?'checked':''\" :checked=\"form.isCheck\" @click=\"form.isCheck = !form.isCheck\"></checkbox>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"fs-22 lh-32 fc-9d\">我已阅读并同意<navigator url=\"agreement/agreement\" class=\"fc-819 dib\">《好获拍拍服务协议》</navigator></view>\r\n\t\t\t\t</view> \r\n\t\t\t</view>-->\r\n\t\t\t<view class=\"wp100 mb48\">\r\n\t\t\t\t<button class=\"cu-btn border-btn bg-pp fc-f lg wp100\" @click=\"onLogin\">登录</button>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex-between ac\">\r\n\t\t\t\t<navigator url=\"phonelogin\" class=\"fs-28 lh-28 fc-606\">手机验证码登录</navigator>\r\n\t\t\t\t<navigator url=\"forgetPwd\" class=\"fs-28 lh-28 fc-606\">忘记密码？</navigator>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"other-login\" v-if=\"ckVersion != 1\">\r\n\t\t\t\t<view class=\"other-login-title flex-center mb40\">\r\n\t\t\t\t\t<view class=\"line\"></view>\r\n\t\t\t\t\t<view class=\"fs-24 lh-24 fc-606 ml34 mr32\">其他登录方式</view>\r\n\t\t\t\t\t<view class=\"line\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"flex-center\">\n\t\t\t\t\t<view @click=\"wxLogin\" class=\"flex-center fdc mr72\" url=\"phonebindwx\">\r\n\t\t\t\t\t\t<image src=\"../../static/img/icon/wx-login@2x.png\" class=\"wx-login-icon mb24\"></image>\r\n\t\t\t\t\t\t<text>微信一键登录</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"flex-center fdc\" @click.stop=\"phoneOneCodeLogin()\">\r\n\t\t\t\t\t\t<image src=\"../../static/img/icon/phone-login.png\" class=\"wx-login-icon mb24\"></image>\r\n\t\t\t\t\t\t<text>本机一键登录</text>\r\n\t\t\t\t\t</view>\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\n\t</view>\n</template>\n\n<script>\r\n\t\r\n\r\n\t\n\texport default {\n\t\tdata() {\n\t\t\treturn {\r\n\t\t\t\tform:{\r\n\t\t\t\t\tuserName: '',\r\n\t\t\t\t\tpassword: '',\r\n\t\t\t\t\tisCheck: true,\r\n\t\t\t\t},\r\n\t\t\t\tmd5LocalKey:'9909',\r\n\t\t\t\tckVersion: '',\r\n\t\t\t\tclientInfo:{\r\n\t\t\t\t\tid:\"\",\r\n\t\t\t\t\ttoken:\"\",\r\n\t\t\t\t\tclientid:\"\",\r\n\t\t\t\t\tappid:\"\",\r\n\t\t\t\t\tappkey:\"\"\r\n\t\t\t\t},//推送信息\r\n\t\t\t\tdevType:\"\"//手机类型\n\t\t\t}\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t//#ifdef APP-PLUS\r\n\t\t\tthis.setPhoneInfo()\r\n\t\t\t//#endif\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.ckVersion = uni.$session.getIosCkVersion() || ''\r\n\t\t},\n \t\tmethods: {\r\n\t\t\tsetPhoneInfo () {\r\n\t\t\t\tconsole.log(\"setPhoneInfo:\")\r\n\t\t\t\tvar devType = this.getDevPlate()\r\n\t\t\t\tvar clientInfo = plus.push.getClientInfo()\r\n\t\t\t\tthis.devType = devType\r\n\t\t\t\tthis.clientInfo = clientInfo\r\n\t\t\t},\r\n\t\t\tgetPhoneMd5 (phoneNum,code) {\r\n\t\t\t\tvar md5Str = code+phoneNum+this.md5LocalKey\r\n\t\t\t\tconsole.log(\"md5Str:\"+md5Str)\r\n\t\t\t\treturn uni.$utils.strMd5(md5Str)\r\n\t\t\t},\r\n\t\t\tuniLogin (code) {\r\n\t\t\t\tvar self = this\r\n\t\t\t\tuni.login({\r\n\t\t\t\t\tprovider: 'univerify',\r\n\t\t\t\t\tuniverifyStyle:{\r\n\t\t\t\t\t\tfullScreen:false,\r\n\t\t\t\t\t\totherLoginButton:{}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess:function(res){\r\n\t\t\t\t\t\tvar token = res.authResult.access_token\r\n\t\t\t\t\t\tvar openId = res.authResult.openid\r\n\t\t\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\t\t  name: 'getPhoneNumber', // 你的云函数名称\r\n\t\t\t\t\t\t  data: {\r\n\t\t\t\t\t\t    'access_token': token, \r\n\t\t\t\t\t\t    'openid': openId \r\n\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\tvar result = res.result\r\n\t\t\t\t\t\t\tvar phoneNum = result.phoneNumber\r\n\t\t\t\t\t\t\tself.phoneLogin(phoneNum,code)\r\n\t\t\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\t\t\tconsole.log(JSON.stringify(err))\r\n\t\t\t\t\t\t\tuni.$toast.showError(\"登录失败:\"+err.errMsg)\r\n\t\t\t\t\t\t\tuni.closeAuthView()\r\n\t\t\t\t\t\t  // 处理错误\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail (res) {\r\n\t\t\t\t\t\tconsole.log(JSON.stringify(res))\r\n\t\t\t\t\t\tvar str = \"\";\r\n\t\t\t\t\t\tif (res.errCode == 30003) {\r\n\t\t\t\t\t\t\tstr = \"用户取消\"\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tstr = res.errMsg\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuni.$toast.showError(\"登录失败:\"+str)\r\n\t\t\t\t\t\tuni.closeAuthView()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tphoneOneCodeLogin () {\r\n\t\t\t\tvar param = {\r\n\t\t\t\t\tclientId:this.clientInfo.clientid\r\n\t\t\t\t}\r\n\t\t\t\tvar self = this\r\n\t\t\t\tuni.$api.getPhoneLoginMD5Code(param).then(res => {\r\n\t\t\t\t\tconsole.log(\"MD5KEY,随机数\",res.key)\r\n\t\t\t\t\tvar code = res.key\r\n\t\t\t\t\tself.uniLogin(code)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tphoneLogin (phoneNum,code) {\r\n\t\t\t\tvar md5 = this.getPhoneMd5(phoneNum,code)\r\n\t\t\t\tvar param = {\r\n\t\t\t\t\tphoneNum:phoneNum,\r\n\t\t\t\t\tphoneNumMd5:md5,\r\n\t\t\t\t\tclientId:this.clientInfo.clientid,\r\n\t\t\t\t\tclientType:this.devType\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(\"登录:\"+JSON.stringify(param))\r\n\t\t\t\t\r\n\t\t\t\tuni.$api.loginByLocalMobile(param). then(res => {\r\n\t\t\t\t\tconsole.log(\"接口返参:\"+JSON.stringify(res))\r\n\t\t\t\t\tuni.closeAuthView()//关闭一键登录弹窗\r\n\t\t\t\t\tuni.$toast.showToast(\"登录成功！\");\r\n\t\t\t\t\tuni.$auth.loginSuccess(res)\r\n\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\tthis.onLoginClose()\r\n\t\t\t\t\t},1000)\r\n\t\t\t\t}).catch(res => {\r\n\t\t\t\t\tuni.$toast.showError(\"登录失败:\"+res.message)\r\n\t\t\t\t\tuni.closeAuthView()//关闭一键登录弹窗\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetDevPlate () {\r\n\t\t\t\treturn uni.getSystemInfoSync().platform\r\n\t\t\t},\r\n\t\t\twxLogin:function(){\r\n\t\t\t\t\r\n\t\t\t\tconst self = this\r\n\t\t\t\tuni.getProvider({\r\n\t\t\t\t\t    service: 'oauth',\r\n\t\t\t\t\t    success: function(res) {\r\n\t\t\t\t\t        //支持微信、qq和微博等\r\n\t\t\t\t\t        if (~res.provider.indexOf('weixin')) {\r\n\t\t\t\t\t            uni.login({\r\n\t\t\t\t\t\t\t        provider: 'weixin',\r\n\t\t\t\t\t\t\t\t    success: function (loginRes) {\r\n\t\t\t\t\t\t\t\t        console.log(\"App微信获取用户信息成功\",loginRes);\r\n\t\t\t\t                        //调用后端接口做登陆操作\r\n\t\t\t\t\t\t\t\t        // uni.$toast.showError(JSON.stringify(loginRes));\r\n\t\t\t\t\t\t\t\t\t\t// {\r\n\t\t\t\t\t\t\t\t\t\t// \t\"authResult\": {\r\n\t\t\t\t\t\t\t\t\t\t// \t\t\"access_token\": \"44_9rh7VOWGjaMrANFxnGKpC_FohnAUUF_YJF-ZFHpipUeLw5_4efDyJTHYudkpFhho3g8vLihelnkYEw50lUsLKyRyO3Diz46GcvmuTAHhOYc\",\r\n\t\t\t\t\t\t\t\t\t\t// \t\t\"expires_in\": 7200,\r\n\t\t\t\t\t\t\t\t\t\t// \t\t\"refresh_token\": \"44_KV0obAn1wdxzt2u-hxANUjBNrKWiyBxT-YE6sWSra7LPCgl_RWKd2-BDVbFF-jGF0WeA92xORN1lGv8-UkfkldkyYCCU4PI8Ptsq08x69-Q\",\r\n\t\t\t\t\t\t\t\t\t\t// \t\t\"openid\": \"oRrdQt1kXPgxhMZX0IkyWE6uy1C8\",\r\n\t\t\t\t\t\t\t\t\t\t// \t\t\"scope\": \"snsapi_userinfo\",\r\n\t\t\t\t\t\t\t\t\t\t// \t\t\"unionid\": \"oU5Yyt9X7v-frNmUPEnII3PvbjyQ\"\r\n\t\t\t\t\t\t\t\t\t\t// \t},\r\n\t\t\t\t\t\t\t\t\t\t// \t\"errMsg\": \"login:ok\"\r\n\t\t\t\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t\t\t\tlet {openid, unionid, access_token} = loginRes.authResult || {}\r\n\t\t\t\t\t\t\t\t\t\tif (openid){\r\n\t\t\t\t\t\t\t\t\t\t\tuni.$api.loginByWxOpenId({\r\n\t\t\t\t\t\t\t\t\t\t\t\taccess_token,openid,unionid\r\n\t\t\t\t\t\t\t\t\t\t\t}).then(res =>{\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet {exist, nickname} = res || {}\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (exist == \"1\"){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.$toast.showToast(\"登录成功！\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.$auth.loginSuccess(res)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tself.onLoginClose()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},1000)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet params = {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\topenid,nickname\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\turl:\"/pages/login/phonebindwx?data=\"+ encodeURIComponent(JSON.stringify(params))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.$toast.showError(loginRes.errMsg);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t\t\t    fail:function(loginRes){\r\n\t\t\t\t\t\t\t\t        console.log(\"App微信获取用户信息失败\",loginRes);\r\n\t\t\t\t                        //调用后端接口做登陆操作\r\n\t\t\t\t\t\t\t\t        uni.$toast.showError(loginRes.errMsg);\r\n\t\t\t\t\t\t\t\t\t\t// {\r\n\t\t\t\t\t\t\t\t\t\t// \t\"errMsg\": \"login:fail 客户端未安装,http://ask.dcloud.net.cn/article/282\",\r\n\t\t\t\t\t\t\t\t\t\t// \t\"errCode\": -8,\r\n\t\t\t\t\t\t\t\t\t\t// \t\"code\": -8\r\n\t\t\t\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t\t    })\r\n\t\t\t\t            }\r\n\t\t\t\t        }\r\n\t\t\t\t    });\r\n\t\t\t},\r\n\t\t\tgoToRegister:function(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:\"/pages/login/register\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonLoginClose:function(){\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl:\"/pages/index/main\"\r\n\t\t\t\t})\r\n\t\t\t\t// if(getCurrentPages().length == 1){\r\n\t\t\t\t// \tuni.switchTab({\r\n\t\t\t\t// \t\turl:\"/pages/index/main\"\r\n\t\t\t\t// \t})\r\n\t\t\t\t// \tuni.setStorageSync('curbar', 1);\r\n\t\t\t\t// }else{\r\n\t\t\t\t// \tuni.navigateBack({delta: 1});\r\n\t\t\t\t// }\r\n\t\t\t},\r\n\t\t\tonLogin(){\r\n\t\t\t\tlet {userName, password, isCheck} = this.form\r\n\t\t\t\t/* if (!isCheck) {\r\n\t\t\t\t\tuni.$toast.showError('协议未勾选'); \r\n\t\t\t\t\treturn;\r\n\t\t\t\t} */\r\n\t\t\t\tif (!userName) {\r\n\t\t\t\t\tuni.$toast.showError('请输入手机号码'); \r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!password) {\r\n\t\t\t\t\tuni.$toast.showError('请输入密码');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(uni.$config,userName, password)\r\n\t\t\t\tuni.$api.loginByMobileWithPassword({\r\n\t\t\t\t\tmobile: userName,\r\n\t\t\t\t\tpassword: password\r\n\t\t\t\t}).then(res =>{\r\n\t\t\t\t\tconsole.log(JSON.stringify(res))\r\n\t\t\t\t\tuni.$toast.showToast(\"登录成功！\");\r\n\t\t\t\t\tuni.$auth.loginSuccess(res)\r\n\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\tthis.onLoginClose()\r\n\t\t\t\t\t},1000)\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\r\npage {\r\n\tbackground-color: #fff;\r\n\tmin-height: 100vh;\r\n}\r\n.container {\r\n\tpadding: 40rpx 40rpx;\r\n}\n.logo {\r\n\twidth: 240rpx;\r\n\theight: 240rpx;\r\n\tborder-radius: 24rpx;\r\n}\r\n.title {\r\n\tfont-size: 30rpx;\r\n\twidth: 150rpx;\r\n}\r\n.form-group {\r\n\twidth: 100%;\r\n\theight: 90rpx;\r\n\tbackground: #FFFFFF;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tmargin-bottom: 32rpx;\r\n}\r\n.form-group input {\r\n\theight: 100%;\r\n\tpadding: 0 32rpx;\r\n\tfont-size: 30rpx;\r\n\tborder: 1px solid #DDDDE6;\r\n\topacity: 1;\r\n\tborder-radius: 16rpx;\r\n\twidth: 100%;\r\n\tcolor: #303133;\r\n\tdisplay: inline-block;\r\n}\r\n.form-group input::placeholder {\r\n\tcolor: #c4c4cc;\r\n}\r\n.form-group-btn {\r\n\twidth: 224rpx;\r\n\theight: 90rpx;\r\n\tbackground: #FFFFFF;\r\n\tborder: 1px solid #FF411C;\r\n\topacity: 1;\r\n\tborder-radius: 16rpx;\r\n\tdisplay: inline-block;\r\n\tfont-size: 30rpx;\r\n\tline-height: 90rpx;\r\n\tcolor: #FF411C;\r\n\tflex-shrink: 0;\r\n}\r\n.border-btn {\r\n\tborder-radius: 45rpx;\r\n}\r\n.bg-pp {\r\n\tbackground: linear-gradient(127deg, #E93A37 0%, #FF6346 100%);\r\n}\r\n.cu-btn.lg {\r\n\tfont-size: 28rpx;\r\n\theight: 90rpx;\r\n}\r\n.other-login {\r\n\tmargin: 12vh auto 0;\r\n\twidth: calc(100% - 64rpx);\r\n}\r\n.other-login-title .line {\r\n\twidth: 198rpx;\r\n\theight: 2rpx;\r\n\tbackground-color: #dddde3;\r\n}\r\n.wx-login-icon {\r\n\twidth: 80rpx;\r\n\theight: 80rpx;\r\n}\n</style>\n","import mod from \"-!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1622274194617\n      var cssReload = require(\"D:/软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}